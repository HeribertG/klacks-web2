<form #noteForm="ngForm"  >
  <div class="container-header header-container" >
    Notizen

    <span class="filler"></span>

    <div>

      <app-button-new placement="top" (click)="newAnnotation()" ngbTooltip="neue Notiz hinzufügen"  *ngIf ="dataManagementClientService.editClientDeleted === false">
      </app-button-new>
      <div class="btn dropdown-toggle  ownStyle-button" role="button" data-toggle="dropdown" *ngIf ="dataManagementClientService.editClientDeleted === false">
        <icon-gear-grey></icon-gear-grey>
      </div>

      <div class="dropdown-menu dropdown-menu-right"  >

        <a class="dropdown-item "
          *ngIf="dataManagementClientService.editClient !== undefined  && dataManagementClientService.currentAnnotationIndex >-1"
          (click)="onDeleteCurrentAnnotation()">
          <div class="custom-control-inline" style="height: 25px;">
            <icon-trash-icon-red></icon-trash-icon-red>
            <p style="margin-left: 10px; font-size: 13px; color: #f64e60;">
              Notiz löschen
            </p>
          </div>
        </a>
        <a class="dropdown-item disabled"
          *ngIf="dataManagementClientService.editClient !== undefined  && dataManagementClientService.currentAnnotationIndex ===-1">
          <div class="custom-control-inline" style="height: 25px;">
            <icon-trash-icon-light-red></icon-trash-icon-light-red>
            <p style="margin-left: 10px; font-size: 13px; color: #FAC1C7;">
              Notiz löschen
            </p>
          </div>
        </a>

      </div>

    </div>
  </div>

  <div class="container-line"></div>

  <div class="container-main " *ngIf="dataManagementClientService.editClient !==undefined">
    <div class="row-line " *ngFor="let c of  dataManagementClientService.editClient.annotations; index as i">
      <div *ngIf="c.isDeleted===false">
        <div [ngClass]="{
          'container-box  ': this.dataManagementClientService.currentAnnotationIndex != i,
          'container-box-focus ': this.dataManagementClientService.currentAnnotationIndex === i}" (click)="onFocus(i)">

          <div class="firstColumn">

            <label>Freitextfeld</label>
          </div>
          <div class="firstColumn">
            <textarea [value]="c.note" (change)="onChange(i, $event)" (keyup)="onKeyUp(i,$event)"
              [disabled]="dataManagementClientService.editClientDeleted" class="form-control freetext"
              name="setName(i)">

            </textarea>
          </div>

        </div>
      </div>

    </div>
  </div>
  <p></p>
  <p></p>
  <p></p>


</form>
